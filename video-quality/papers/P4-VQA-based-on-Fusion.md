# 基于遗传算法的视频质量感知融合评价(论文和专利)

## 1 前言

随着4G通信网络和智能手机的普及，移动互联网引领着互联网的发展。互联网承载的主体流量不再是文本和音频，而是流媒体视频、直播业务、在线教育、视频会议等。编码器(H264/H265/VP9等)如果视频编码参数设置失当，将导致视频失真。视频失真现象体现在块效应(Blocking)、模糊效应(Bluring)和振铃效应(Ringing)等。对于流媒体业务的视频质量评价和实时监控是亟待解决的难题。目前，业界一般有以下典型实践:使用专家经验和理论计算为基础严格限制视频服务器编码参数作为最佳实践；使用客观视频质量评价指标为基础给出视频服务器编码参数作为最佳实践；使用主观视频质量评价指标为基础给出视频服务器编码参数作为最佳实践。专家经验和理论计算存在实践盲区，大范围部署系统不可预见的脆弱性；客观视频质量评价指标(峰值信噪比-PSNR和结构相似性-SSIM)无法反映人眼视觉特性，评价有失偏颇；主观视频质量评价指标在大规模随机流媒体系统的可行性和性价比很低。针对上述问题，我们希望设计一种实时视频质量评价指标，并能自适应保持网络带宽和视频整体质量的均衡。

## 2 评价指标存在的问题

编码器(H264/H265/VP9等)均采用基于视频场景的编码技术，常见视频场景包括: 动画场景、运动场景和娱乐场景等。相同的编码参数不同的视频场景(不同场景复杂度)能够表现出不同的视频质量。我们使用斯皮尔曼等级相关系数(Spearman’s rank correlation coefficient，SRCC)、皮尔森积差相关系数(Pearson product-mome coefficient，PCC)以及均方根误差(Root-mean-squared-error，RMSE)评价常见客观视频质量评价方法，即峰值信噪比-PSNR、结构相似性-SSIM、PSNR-HSV和VIF等。最理想的视频质量评价指标，我们希望其与DMOS呈现明显线性关系，即SRCC和PCC值接近1.0，RMSE值接近0。在上述指标中，PSNR-HVS的SRCC、PCC和RMSE值是最理想的，但是真是预测还不理想。我们精心掉选了动画场景、运动场景和娱乐场景的若干视频，使用SRCC、PCC和RMSE评价相关指标的性能。

## 3 基于遗传算法构建感知融合模型-CFA

### 3.1 选择几种客观指标(PSNR, SSIM, VIF)

VIF是一种获得广泛使用的图像质量指标，该指标基于这样一种前提：质量与衡量信息保真度丢失情况的措在最初的形式中，VIF分数是通过将四个尺度（Scale）下保真度的丢失情况结合在一起衡量的。在VMAF中我们使用了一种改进版的VIF，将每个尺度下保真度的丢失看标。

细节丢失指标(Detail Loss Metric，DLM)是一种图像质量指标，其基本原理在于：分别衡量，可能影响到内容可见性的细节丢失情况，以及可能分散观众必要损失。（描述失真的两个指标）这个指标最初会将DLM和Additive Impairment Measure（AIM）结合在一起算出最终分数。在VMAF中我们只使用DLM作为基本指些特殊情况采取了必要的措施，例如会导致原始公式中的数值计算失效的黑帧。VIF和DLM都是衡量图片质量的指标。考虑到视频的时域特性(Temporal characteristic)

### 3.2 基于遗传算法构建感知融合模型

感知融合模型的优化目标是：与主观质量评价(DMOS)指标呈线性关系。

### 3.3 模型对比

业界通常使用皮尔逊相关系数(Pearson Correlation Coefficient,PCC)、皮尔逊等级相关系数(Spearman Rank-order Correlation Coefficient, SROCC)和均方根误差(RMSE)来比较和评测图像&视频质量评价模型的性能指标。PCC和SROCC是在非线性之后计算的使用逻辑函数回归质量得分在中推荐。横向比较过程中，我们选取压缩失真、缩放失真和图像典型噪声等典型后处理数据测试例做横向对比测试。

| 评价指标 | PCC系数 | SROCC系数 | RMSE系列 |
|:----:|:----|:----:|:----:|
| PSNR | 0.84 | 0.84 | 20 |
| SSIM | 0.84 | 0.84 | 20 |
| PSNR-HSV | 0.84 | 0.84 | 20 |
| VQM | 0.90 | 0.90 | 20 |
| CFA | 0.90 | 0.90 | 5 |
图-X:各种质量评价指标与DMOS之间的关系

## 5 结语

## 参考文献